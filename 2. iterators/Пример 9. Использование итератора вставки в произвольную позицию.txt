#include <vector>
#include <iterator>
#include <iostream>
using namespace std;

int main()
{
	vector<char> b;
	vector<char>::iterator pb;
	char ar[] = { 'a', 'b', 'c' };

	// создание итератора вставки в произвольную позицию
	// в конструктор передается контейнер и начальная позиция вставки
	insert_iterator<vector<char>> ii(b, b.begin());

	// вставка элементов в  контейнер
	*ii = 'A'; ii++;
	*ii = 'B'; ii++;
	*ii = 'C';

	cout << "Initial list: " << endl;
	for (pb = b.begin(); pb != b.end(); pb++)
		cout << *pb << " ";
	cout << endl;

	// копирование данных с помощью итератора вставки:
	copy(ar, ar + 3, inserter(b, b.begin() + 2));

	cout << "After insert: " << endl;
	for (pb = b.begin(); pb != b.end(); pb++)
		cout << *pb << " ";
	cout << endl;

	// добавление 2 элементов с использованием функции inserter
	inserter(b, b.begin()) = '1';
	inserter(b, b.begin() + 4) = '2';
	cout << "Add some new data: " << endl;
	for (pb = b.begin(); pb != b.end(); pb++) cout << *pb << " ";
	cout << endl;

}